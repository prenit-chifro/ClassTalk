<% if(!params[:slot_for].blank? and params[:slot_for] == "Teacher") %>
	<%= form_tag institute_timetable_slot_path(@institute, @timetable_slot), method: :patch, remote: :true do %>
		<%= hidden_field_tag :slot_for, :Teacher %>
		<%= hidden_field_tag :start_time, @timetable_slot.start_time %>
		<%= hidden_field_tag :end_time, @timetable_slot.end_time %>
		<h3><%= @teacher.first_name %> <%= @teacher.last_name %> (<%= @teacher.details %>)</h3>
		Assign Class and Subject from <%= get_am_pm_time(@timetable_slot.start_time) %> to <%= get_am_pm_time(@timetable_slot.end_time) %>
		<% options = [["Set Class", ""]] %>
		<% @grade_section_models.each do |grade_section_model| %>
			<% options << ["Class #{grade_section_model.grade.grade_name}#{grade_section_model.section.section_name}", grade_section_model.id] %>
		<% end %>
		<%= select_tag :grade_section_id, options_for_select(options, ["Class #{@timetable_slot.grade.grade_name}#{@timetable_slot.section.section_name}", @grade_section_model.id]), required: :true %>
		
		<% options = [["Set Subject", ""]] %>
		<% @subjects.each do |subject| %>
			<% options << [subject.subject_name, subject.id] %>
		<% end %>
		<%= select_tag :subject_id, options_for_select(options, [@subject.subject_name, @subject.id]), required: :true %>
		<%= submit_tag :save %>
	<% end %>
<% else %>
	<%= form_tag institute_timetable_slot_path(@institute, @timetable_slot), method: :patch, remote: :true do %>
		<%= hidden_field_tag :slot_for, :Others %>
		<%= hidden_field_tag :start_time, @timetable_slot.start_time %>
		<%= hidden_field_tag :end_time, @timetable_slot.end_time %>
		<h3>Class <%= @grade.grade_name %><%= @section.section_name %></h3>
		Assign Teacher and Subject from <%= get_am_pm_time(@timetable_slot.start_time) %> to <%= get_am_pm_time(@timetable_slot.end_time) %>
		<% options = [["Set Teacher", ""]] %>
		<% @teachers.each do |teacher| %>
			<% options << [teacher.first_name + " " + teacher.last_name, teacher.id] %>
		<% end %>
		<%= select_tag :teacher_id, options_for_select(options, [@teacher.first_name + " " + @teacher.last_name, @teacher.id, ""]), required: :true %>

		<% options = [["Set Subject", ""]] %>
		<% @subjects.each do |subject| %>
			<% options << [subject.subject_name, subject.id] %>
		<% end %>
		<%= select_tag :subject_id, options_for_select(options, [@subject.subject_name, @subject.id]), required: :true %>
		<%= submit_tag :save %>
	<% end %>
<% end %>

